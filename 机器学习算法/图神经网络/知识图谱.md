在知识图谱里，实体指的是现实世界中的事物比如人、地名、概念、药物、公司等**，**关系则用来表达不同实体之间的某种联系。在现实世界中，实体和关系也会拥有各自的属性，比如人可以有“姓名”和“年龄”。当一个知识图谱拥有属性时，我们可以用属性图`Property Graph`来表示

知识图谱的构建过程分为四个功能模块：分别是数据获取、信息获取、知识融合和知识处理。

##### 信息获取

信息获取分为三个关键技术：实体提取、关系提取和属性提取。

命名实体识别`NER`就是实体提取，是指从文本数据中识别出命名实体。

关系提取（Relation Extraction）文本语料经过实体抽取之后，得到的是一系列离散的命名实体，为了得到语义信息，还需要从相关语料中提取出实体之间的关联关系，通过关系将实体联系起来，才能够形成网状的知识结构。

关系抽取研究历史：

1、人工构造语法和语义规则（模式匹配）；

2、统计机器学习方法；

3、基于特征向量或核函数的有监督学习方法；

4、研究重点转向半监督和无监督；

5、开始研究面向开放域的信息抽取方法；

6、将面向开放域的信息抽取方法和面向封闭领域的传统方法结合

属性提取（Attribute Extraction）属性提取就是在数据源中提取实体的属性信息。

属性抽取研究历史：

1、将实体的属性视作实体与属性值之间的一种名词性关系，将属性抽取任务转化为关系抽取任务；

2、基于规则和启发式算法，抽取结构化数据；

3、基于百科类网站的半结构化数据，通过自动抽取生成训练语料，用于训练实体属性标注模型，然后将其应用于对非结构化数据的实体属性抽取；

4、采用数据挖掘的方法直接从文本中挖掘实体属性和属性值之间的关系模式，据此实现对属性名和属性值在文本中的定位。

##### 知识融合（Knowledge Fusion）

知识融合就是把“信息获取”过程中得到的散乱信息整合起来。它分为两个部分，实体链接和知识合并。

实体链接`Entity Linking`是指对于从文本中抽取得到的实体对象，将其链接到知识库中对应的正确实体对象的操作。实体链接主要包含两个关键技术，分别是实体消歧和共指消解。

实体消歧（Entity Disambiguation）是专门用于解决同名实体产生歧义问题的技术，通过实体消歧，就可以根据当前的语境，准确建立实体链接。

共指消解（Entity Resolution）主要用于解决多个指称项对应于同一实体对象的问题。利用共指消解技术，可以将这些指称项关联（合并）到正确的实体对象

其基本思想是首先根据给定的实体指称项，从知识库中选出一组候选实体对象，然后通过相似度计算将指称项链接到正确的实体对象。实体链接研究历史：

1、仅关注如何将从文本中抽取到的实体链接到知识库中，忽视了位于同一文档的实体间存在的语义联系；

2、开始关注利用实体的共现关系，同时将多个实体链接到知识库中。即集成实体链接（collective entity linking）；

实体链接的流程：

1、从文本中通过实体抽取得到实体指称项；

2、进行实体消歧和共指消解，判断知识库中的同名实体与之是否代表不同的含义以及知识库中是否存在其他命名实体与之表示相同的含义；

3、在确认知识库中对应的正确实体对象之后，将该实体指称项链接到知识库中对应实体。

###### 知识合并

在构建知识图谱时，需要从第三方知识库产品或已有结构化数据获取知识输入。

合并外部知识库：例如从百度百科，维基百科等进行知识合并。

合并关系数据库：知识图谱构建过程中，一个重要的高质量知识来源是企业或者机构自己的关系数据库。为了将这些结构化的历史数据融入到知识图谱中，可以采用资源描述框架（RDF）作为数据模型。这一过程被称为RDB2RDF，实质就是将关系数据库的数据转换成RDF的三元组数据。

##### 知识加工

通过信息抽取和知识融合，得到一系列基本的事实表达。然而事实本身并不等于知识**。**要想最终获得结构化，网络化的知识体系，还需要经历知识加工的过程。

###### 本体构建

本体（ontology）是指人工的概念集合、概念框架，如“人”、“事”、“物”等。本体可以采用人工编辑的方式手动构建（借助本体编辑软件），也可以以数据驱动的自动化方式构建本体。因为人工方式工作量巨大，且很难找到符合要求的专家，因此当前主流的全局本体库产品，都是从一些面向特定领域的现有本体库出发，采用自动构建技术逐步扩展得到的。自动化本体构建过程包含三个阶段：1、实体并列关系相似度计算；2、实体上下位关系抽取；3、本体的生成

###### 知识推理

完成了本体构建这一步之后，一个知识图谱的雏形便已经搭建好了。但可能在这个时候，知识图谱之间大多数关系都是残缺的，缺失值非常严重，那么这个时候，我们就可以使用知识推理技术，去完成进一步的知识发现。：如果A是B的配偶，B是C的主席，C坐落于D，那么我们就可以认为，A生活在D这个城市。

这一块的算法主要可以分为3大类，基于逻辑的推理、基于图的推理和基于深度学习的推理。

###### 质量评估

质量评估也是知识库构建技术的重要组成部分，这一部分存在的意义在于：可以对知识的可信度进行量化，通过舍弃置信度较低的知识来保障知识库的质量。

###### 知识库的更新

知识库的更新包括概念层的更新和数据层的更新。概念层的更新是指新增数据后获得了新的概念，需要自动将新的概念添加到知识库的概念层中。

数据层的更新主要是新增或更新实体、关系、属性值，对数据层进行更新需要考虑数据源的可靠性、数据的一致性（是否存在矛盾或冗杂等问题）等可靠数据源，并选择在各数据源中出现频率高的事实和属性加入知识库。

全面更新：指以更新后的全部数据为输入，从零开始构建知识图谱。这种方法比较简单，但资源消耗大，而且需要耗费大量人力资源进行系统维护；

增量更新：以当前新增数据为输入，向现有知识图谱中添加新增知识。这种方式资源消耗小，但目前仍需要大量人工干预（定义规则等），因此实施起来十分困难。

##### 知识图谱的存储和推理计算

###### 存储

知识图谱以图(Graph)的方式来展现实体、事件及其之间的关系。知识图谱存储和查询研究如何设计有效的存储模式支持对大规模图数据的有效管理,实现对知识图谱中知识高效查询。因为知识图谱的结构是复杂的图结构,给知识图谱的存储和查询带来了挑战。当前目前知识图谱多以三元存在的 RDF 形式进行存储管理,对知识图谱的查询支持 SPARQL 查询；

###### 推理计算

知识推理从给定的知识图谱推导出新的实体跟实体之间的关系。知识图谱推理可以分为基于符号的推理和基于统计的推理。在人工智能的研究中,基于符号的推理一般是基于经典逻辑(一阶谓词逻辑或者命题逻辑)或者经典逻辑的变异(比如说缺省逻辑)。基于符号的推理可以从一个已有的知识图谱推理出新的实体间关系,可用于建立新知识或者对知识图谱进行逻辑的冲突检测。基于统计的方法一般指关系机器学习方法,即通过统计规律从知识图谱中学习到新的实体间关系。知识推理在知识计算中具有重要作用,如知识分类、知识校验、知识链接预测与知识补全等。

##### 知识图谱应用

###### 通用和领域知识图谱：

知识图谱最成熟的一个场景，自动给出搜索结果和相关人物，知识图谱分为通用知识图谱与领域知识图谱两类,两类图谱本质相同,其区别主要体现在覆盖范围与使用方式上。通用知识图谱可以形象地看成一个面向通用领域的结构化的百科知识库,其中包含了大量的现实世界中的常识性知识,覆盖面广。领域知识图谱又叫行业知识图谱或垂直知识图谱,通常面向某一特定领域,可看成是一个基于语义技术的行业知识库,因其基于行业数据构建,有着严格而丰富的数据模式,所以对该领域知识的深度、知识准确性有着更高的要求。

6.2语义集成：

 采用语义集成技术，发现异构知识库中实体间的等价关系，从而实现知识共享。由于知识库多以本体的形式描述，因此语义集成中的主要环节是本体映射；匹配方法包括：

①基于文本信息的方法：这种方法主要利用本体中实体的文本信息，例如实体的标签和摘要信息。通过计算两个实体字符串之间的相似度(常用的有编辑距离相似度， Jaccard 相似度)，来确定实体之间是否具有匹配关系；

②基于结构的方法：这种方法主要利用本体的图结构信息来对本体进行匹配。其中较为代表性的方法有 SimRank 和相似度传播, 这些方法利用本体的图结构，对实体间的相似度进行传播，从而提高对齐的效果；

③基于背景知识的方法：这种方法一般使用 DBPedia 或WordNet 等已有的大规模领域无关知识库作为背景知识来提高匹配效果。例如，Aleksovski 等人利用 DICE 本体(医学领域的本体)来匹配结构信息缺失的两个与医学相关的本体；

④基于机器学习的方法：这种方法将本体匹配问题视为一个机器学习中的分类或优化问题，采取机器学习方法获得匹配结果。例如将本体匹配视为一个贝叶斯决策问题。 Niepert 等人将本体匹配问题使用马尔可夫逻辑网络(Markov Logic Network)建模，将本体中的各种信息转化为各种约束条件，并求出最优解。

6.3语义搜索：

结合文本，结构化和语义数据、以整体的方式管理不同类型的资源、支持结果为信息单元(文档，数据)的集成的检索。知识图谱是对客观世界认识的形式化表示,将字符串映射为客观事件的事务(实体、事件以及之间的关系)。当前基于关键词的搜索技术在知识图谱的知识支持下可以上升到基于实体和关系的检索,称之为语义搜索。语义搜索利用知识图谱可以准确地捕捉用户搜索意图,借助于知识图谱,直接给出满足用户搜索意图的答案,而不是包含关键词的相关网页的链接。

6.4基于知识的问答：

基于语义解析的方法大致包含四个部分： 资源映射、逻辑表达式、候选答案生成、排序。问答系统(Question Answering, QA)是指让计算机自动回答用户所提出的问题,是信息服务的一种高级形式。不同于现有的搜索引擎,问答系统返回用户的不再是基于关键词匹配的相关文档排序,而是精准的自然语言形式的答案。

经由：①数据预处理：处理数据库数据，包含索引、数据清理、特征提取等；②问题分析：执行语法分析，同时检测问题的核心特征，如NER、答案类型等；③数据匹配：将问题里的terms 和数据里的实体进行匹配；④查询创建：生成结构查询候选；⑤排序；⑥结果返回与生成：执行查询并从结果里抽取答案。

##### 知识图谱构建方法

主要包含：知识表示建模、知识表示学习、实体识别与链接、实体关系学习、事件关系学习

7.1知识表示与建模：知识表示将现实世界中的各类知识表达成计算机可存储和计算的结构。机器必须要掌握大量的知识,特别是常识知识才能实现真正类人的智能。从有人工智能的历史开始,就有了知识表示的研究。知识图谱的知识表示以结构化的形式描述客观世界中概念、实体及其关系,将互联网的信息表达成更接近人类认知世界的形式,为理解互联网内容提供了基础支撑。

7.2知识表示学习：随着以深度学习为代表的表示学习的发展,面向知识图谱中实体和关系的表示学习也取得了重要的进展。知识表示学习将实体和关系表示为稠密的低维向量,实现了对实体和关系的分布式表示,可以高效地对实体和关系进行计算,、缓解知识稀疏、有助于实现知识融合,已经成为知识图谱语义链接预测和知识补全的重要方法。由于知识表示学习能够显著提升计算效率,有效缓解数据稀疏,实现异质信息融合,因此对于知识库的构建、推理和应用具有重要意义,值得广受关注、深入研究。

7.3实体识别与链接：实体是客观世界的事物,是构成知识图谱的基本单位(这里实体指个体或者实例)。实体分为限定类别的实体(如常用的人名、地名、组织机构等)以及开放类别实体(如药物名称、疾病等名称)。实体识别是识别文本中指定类别的实体。实体链接是识别出文本中提及实体的词或者短语(称为实体提及),并与知识库中对应实体进行链接。实体识别与链接是知识图谱构建、知识补全与知识应用的核心技术。实体识别技术可以检测文本中的新实体,并将其加入到现有知识库中。实体链接技术通过发现现有实体在文本中的不同出现,可以针对性的发现关于特定实体的新知识。实体识别与链接的研究将为计算机类人推理和自然语言理解提供知识基础。

7.4实体关系学习：实体关系描述客观存在的事物之间的关联关系,定义为两个或多个实体之间的某种联系,实体关系学习就是自动从文本中检测和识别出实体之间具有的某种语义关系,也称为关系抽取。实体关系抽取分类预定义关系抽取和开放关系抽取。预定义关系抽取是指系统所抽取的关系是预先定义好的,比如知识图谱中定义好的关系类别,如上下位关系、国家—首都关系等。开放式关系抽取。开放式关系抽取不预先定义抽取的关系类别,由系统自动从文本中发现并抽取关系。实体关系识别是知识图谱自动构建和自然语言理解的基础。