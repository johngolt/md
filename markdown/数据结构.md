#### 基于数组的序列

##### python 序列类型

python 中的各种序列类，即列表、元组和字符串。这些类之间有明显的共性，最主要的是：每个类都支持用下标访问序列元素。每个类都是用数组这种低层次概念表示序列。

##### 低层次数组

计算机主存由位信息组成，这些位通常被归类成更大的单元，这些单元则取决于精准的系统架构。一个典型的单元就是一个字节，相当于8位。计算机系统拥有庞大数量的存储字节，为了能跟踪信息存储在哪个字节，计算机采用了一个抽象概念，即我们熟悉的存储地址。实际上，每个存储字节都和一个作为其地址的唯一数字相关联。因此从理论上说，基于这种存储地址，主存的任何字节都能被有效的访问。一般来说，编程语言记录标识符和其关联值所存储的地址之间的联系。

一组相关变量能够一个接着一个地存储在计算机存储器的一块连续区域内。我们将这样的表示法成为数组。数组的每个单元必须占据相同数量的字节。之所以这样要求，是为了允许使用索引值能够在常量时间内访问数组内的任一单元。

###### 引用数组

python使用数组内部存储机制即对象引用，来表示一列或者元组实例。在最底层，存储的是一块连续的内存地址序列，这些地址指向一组元素序列。虽然单个元素的相对大小可能不同，但每个元素内存地址的位数是固定的。一个列表实例可能会以多个指向同一个对象的引用作为列表元素，一个对象也可能被多个列表中的元素所指向。

###### python中的紧凑数组

紧凑数组，因为数组存储的是位，这些位表示原始数据。使用紧凑数组会占用更少的内存，因为在内存引用序列的显示存储上没有开销(原始数据除外)，即引用结构通常会将64位地址存入数组，无论存储单个元素的对象有多少位。

##### 动态数组和摊销

在计算机系统中，创建低层次数组时，必须明确声明数组的大小，以便系统为其存储分配连续的内存。由于系统可能会占用相邻的内存位置区存储其他数据，因此数组大小不能靠扩展内存单元来无限增长。python列表在构造时已经有了确定的长度，但该类允许对列表填增元素，对列表的总体大小没有明显的限制。为了提供这种抽象，python依赖于一种算法技巧，即动态数组。一列列表通常关联着一个底层数组，该数组通常比列表的长度更长。加入持续添加列表元素，所有预留单元最终将被耗尽。此时，列表类向系统请求一个新的、更大的数组，并初始化该数组，使其前面的部分能与原来的小数组一样。届时，原来的数组不在需要，因此被系统回收。

设S是一个由具有初始大小的动态数组实现的数组，实现策略为：当数组已满时，将此数组大小扩大为原来的2被。S最初为空，对S连续执行n个增添操作的运行时间为$O(n)。数组大小以任意几何增长级数扩大，每次操作的摊销运行时间仍为$O(1)$

对初始为空的动态数组执行连续$n$个增添操作，若每次调整数组大小时采用固定的增量，则允许时间为$\Omega(n^2)$

