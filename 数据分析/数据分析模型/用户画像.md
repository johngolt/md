### 用户画像

用户画像的核心工作就是给用户打标签，标签通常是人为规定的高度精炼的特征标识，如年龄、性别、地域、兴趣等。这些标签集合就能抽象出一个用户的信息全貌，每个标签分别描述了该用户的一个维度，各个维度之间相互联系，共同构成对用户的一个整体描述。

标签的准确率指的是被打上正确标签的用户比例，准确率是用户画像最核心的指标。标签的覆盖率指的是被打上标签的用户占全量用户的比例，我们希望标签的覆盖率尽可能的高。但覆盖率和准确率是一对矛盾的指标，需要对二者进行权衡，一般的做法是在准确率符合一定标准的情况下，尽可能的提升覆盖率。

###### 标签分类

| 标签分类标准             | 类别                         |
| ------------------------ | ---------------------------- |
| 标签的变化频率           | 静态标签和动态标签           |
| 标签的指代和评估指标     | 定性标签和定量标签           |
| 标签的来源渠道和生成方式 | 基础标签、业务标签、智能标签 |
| 标签体系分级分层的方式   | 一级标签、二级标签、三级标签 |
| 按照数据提取和处理       | 事实标签，模型标签，预测标签 |

| 类型     | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| 静态标签 | 指用户与生俱来的属性信息，或者是很少发生变化的信息。         |
| 动态标签 | 指非常经常发生变动的、非常不稳定的特征和行为，例如”一段时间内经常购买的商品品类“这类的标签 |
| 定性标签 | 不能直接量化而需通过其他途径实现量化的标签，其标签的值是用文字来描述的，例如“用户爱好的运动”为“跑步、游泳”。 |
| 定量标签 | 可以准确数量定义、精确衡量并能设定量化指标的标签，其标签的值是常用数值或数值范围来描述的。 |
| 基础标签 | 主要是指对用户基础特征的描述                                 |
| 业务标签 | 在基础标签之上依据相关业务的业务经验并结合统计方法生成的标签，比如：用户忠诚度、用户购买力等标签等指标。 |
| 智能标签 | 是利用人工智能技术基于机器学习算法，通过大量的数据计算而实现的自动化、推荐式的进行打标签。 |
| 事实标签 | 直接从原始数据中提取，描述用户的自然属性、产品属性、消费属性等，事实标签其本身不需要模型与算法 |
| 模型标签 | 对用户属性及行为等属性的抽象和聚类，通过剖析用户的基础数据为用户贴上相应的总结概括性标签及指数，标签代表用户的兴趣、偏好、需求等。 |
| 预测标签 | 基于用户的属性、行为、位置和特征，通过机器学习、深度学习等算法进行用户行为预测，针对这些行为预测配合营销策略，实现营销适时推送给用户。 |

主流的标签体系都是层次化的。首先标签分为几个大类，每个大类下进行逐层细分。在构建标签时，我们只需要构建最下层的标签，就能够映射到上面两级标签。上层标签都是抽象的标签集合，一般没有实用意义，只有统计意义。用于广告投放和精准营销的一般是底层标签，对于底层标签有两个要求：一个是每个标签只能表示一种含义，避免标签之间的重复和冲突；另一个是标签必须有一定的语义，方便相关人员理解每个标签的含义。标签的粒度很重要，粒度太粗会没有区分度，粒度过细会导致标签体系太过复杂而不具有通用性。

![](../../picture/2/167.png)

构建的优先级需要综合考虑业务需求、构建难易程度等，业务需求各有不同，这里介绍的优先级排序方法主要依据构建的难易程度和各类标签的依存关系

![](../../picture/2/168.png)

基于原始数据首先构建的是事实标签，事实标签可以从数据库直接获取，或通过简单的统计得到。这类标签构建难度低、实际含义明确，且部分标签可用作后续标签挖掘的基础特征。模型标签是标签体系的核心，也是用户画像工作量最大的部分，大多数用户标签的核心都是模型标签。模型标签的构造大多需要用到机器学习和自然语言处理技术。最后构造的是高级标签，高级标签是基于事实标签和模型标签进行统计建模得出的，它的构造多与实际的业务指标紧密联系。只有完成基础标签的构建，才能够构造高级标签。构建高级标签使用的模型，可以是简单的数据统计，也可以是复杂的机器学习模型。

###### 标签命名

![](../../picture/2/216.png)

| 维度         | 定义                                                         | 实例                                                         |
| ------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 基本属性     | 一个用户的基本社会属性和变更频率低的平台特征                 | 真实社会年龄、性别、婚姻状况、昵称、号码、账号、lbs等        |
| 平台属性     | 用户在平台上表现出的基本属性特征                             | 利用用户行为进行算法挖掘，标识用户真实属性的标签。           |
| 行为属性     | 用户的全部埋点行为                                           | 启动、登录、浏览、点击、加车、下单等，可以按照“产品＊功能模块＊用户单点行为*时间”四大要素来组织。 |
| 产品偏好     | 用户使用某些产品、产品核心功能或者其他渠道的偏好程度的刻画，属于挖掘型标签 | 可以包括自家产品、竞品；功能和渠道包括站内产品功能，也包括push、短信、开屏、弹窗等几大运营和产品法宝。 |
| 兴趣偏好     | 兴趣偏好就是对用户和物品之间的关系进行深度刻画的重要标签     | 最典型的要属品牌偏好、类目偏好和标签偏好                     |
| 敏感度       | 敏感度代表用户对平台活动或者优惠的敏感程度，也是典型的挖掘类标签 |                                                              |
| 消费属性     |                                                              | 统计型标签—消费频次、消费金额、最近一次消费时间等，也包括挖掘型标签—消费能力和消费意愿，同时包含敏感度标签—优惠促销敏感度、活动敏感度、新品敏感度、爆款敏感度等。 |
| 用户生命周期 | 每个阶段对用户运营存在策略差异，画像在其中的作用是明确标记用户所处生命周期的阶段 | “新手”“成长”“成熟”“衰退”“流失”5个典型阶段                    |

统计类标签：这类标签是最为基础也最为常见的标签类型，例如，对于某个用户来说，其性别、年龄、城市、星座、近7日活跃时长、近7日活跃天数、近7日活跃次数等字段可以从用户注册数据、用户访问、消费数据中统计得出。该类标签构成了用户画像的基础。

规则类标签：该类标签基于用户行为及确定的规则产生。例如，对平台上“消费活跃”用户这一口径的定义为“近30天交易次数≥2”。规则类标签的规则由运营人员和数据人员共同协商确定；

机器学习挖掘类标签：该类标签通过机器学习挖掘产生，用于对用户的某些属性或某些行为进行预测判断。例如，根据一个用户的行为习惯判断该用户是男性还是女性、根据一个用户的消费习惯判断其对某商品的偏好程度。该类标签需要通过算法挖掘产生。

###### 标签数据存储

以Hive为例，我们最常用的就是横表，也就是一个key，跟上它的所有标签。横标存在的问题：第一由于用户的标签会非常多，标签的数量会随时增加，而且可能会很频繁；不同的标签计算频率不同；不同标签计算完成时间不同，横表最终生成时间取决于最后完成的标签；大量空缺的标签会导致存储稀疏。

![](../../picture/2/169.png)

鉴于横表存在的问题，可以采用竖表，竖表其实就是将标签都拆开，一个用户有多少标签，那么在这里面就会有几条数据。

![](../../picture/2/170.png)

![](../../picture/2/171.png)

业务的本质是用户和利润，详细来说业务是以用户为中心，通过各种运营的手段，将产品和服务提供给用户，同时获取利润的系统。对应到商业模式画布的四要素：给谁（用户）、给什么（产品/服务）、怎么给（运营/渠道）、给的结果（利润=收入-成本）。

a.什么是用户？产品对应的目标群体和受众，即目标用户，目标用户分为实际用户和潜在用户。基于假设的目标用户做需求分析，做产品功能设计与开发，通过用户分析重新定义目标用户，基于更加精确的目标用户需求迭代产品功能。

b.产品/服务的核心：解决需求，产品和服务是满足用户需求的一种形式。产品/服务的特点：核心需求稳定、迭代的成本周期高，产品/服务是相对标准化的，可复用。

c.什么是运营？运营是为了帮助产品与用户之间更好的建立和维系关系。运营的特点：运营的种类非常丰富，可根据指标表现不断迅速调整动作。运营包含用户运营、内容运营、社群运营、渠道运营等。

d.什么是利润？利润等于总收入减去总成本的差额。

通过统一标准来监控和评估业务结果成功或失败的可量化的度量就是指标。如何读懂指标？

a.理解指标的含义：有哪些常见的指标，确立指标口径，针对某一指标达成一致的统计逻辑，可减少无效讨论带来的分歧。

b.知晓指标的分级：一级指标和二级指标，一级指标是最核心最关注的指标，二级指标是组成一级指标的指标。

c.看懂指标的波动：正常波动和异常波动。如何确定正常波动的阈值：自然波动范围内，上下游幅度一致，历史数据波动范围内。如何解读指标的异常波动？第一步，通过同环比来确认波动值，第二步，通过拆解寻找原因。

**1)界定问题**

什么是问题，期待的状况与现状之间的落差，问题的三个要素有：理想态、现实态、落差。方法论：第一步，寻找理想态—明确目标、定义理想态；第二步，确认现实态—区分事实和观点、用数据描述现状；第三步，对比理想态与现实态，准确描述问题。

**2)问题拆解**

从业务中得到对应的指标公式，进行拆解。

**3)提出假设**

基于对业务的理解提出假设。

**4）分析验证**

通过工具获取真实数据去验证每个假设是否成立。

**5）结论呈现**

先写结论、再展开论证、给出建议。

### 1. 选取业务过程

业务过程即企业和组织的业务活动，它们一般都有相应的源头业务系统支持。

对于一个超市来说，其最基本的业务活动就是用户收银台付款；对于一个保险公司来说，最基本的业务活动是理赔和保单等 。当然在实际操作中，业务活动有可能并不是那么简单直接 ，此时听取用户的意见通常是这一环节最为高效的方式。

但需要注意的是，这里谈到的业务过程并不是指业务部门或者职能。模型设计中，应将注意力集中放在业务过程而不是业务部门，如果建立的维度模型是同部门捆绑在一起的，就无法避免出现数据不一致的情况（如业务编码、含义等）。因此，确保数据一致性的最佳办法是从企业和公司全局与整体角度，对于某一个业务过程建立单一的、一致的维度模型。

### 2. 定义粒度

定义粒度意味着对事实表行实际代表的内容和含义给出明确的说明，粒度传递了事实表度量值相联系的细节所达到的程度的信息。其实质就是如何描述事实表的单个行。

典型的粒度定义包括：

- 超市顾客小票的每一个子项；
- 医院收费单的明细子项；
- 个人银行账户的每一次存款或者取款行为；
- 个人银行账户每个月的余额快照；

对于维度设计来说，在事实表粒度上达成一致非常重要，如果没有明确的粒度定义，则不能进入后面的环节。

在定义粒度过程中，应该最大限度地选择业务过程中最为原子性的粒度，这样可以带来后续的最大灵活度，也可以满足业务用户的任何粒度的分析需求。

### 3. 确定维度

定义了粒度之后，相关业务过程的细节也就确定了，对应的维度就很容易确定。正如前文所述。

> **维度是对度量的上下文和环境的描述**

通过维度，业务过程度量与事实就会变得丰富和丰满起来。对于订单来说，常见的维度会包含商品、日期、买家、卖家、门店等。

而每一个维度还可以包含大量的描述信息，比如商品维度表会包含商品名称、标签价、商品品牌、商品类目、商品上线时间等。

### 4. 确定事实

确定事实通过业务过程分析可能要分析什么来确定。定义粒度之后，事实和度量一般也很容易确定，比如超市的订单活动，相关的度量显然是销售数量和销售金额。

在实际维度事实设计中，可能还会碰到度量拆分的问题，比如超市开展单个小票满 100减 10 元的活动，如果小票金额超过 10 元，这 10 元的优惠额如何分配到每一个小票子项实际设计中，可以和业务方具体讨论并制订具体的拆分分配算法。